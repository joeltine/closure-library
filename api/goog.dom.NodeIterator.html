---
{edit_path: '', layout: api, page: goog.dom.NodeIterator, section: 2-api}
---
{% raw %}
<!DOCTYPE html><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"><meta http-equiv="Content-Language" content="en"><meta http-equiv="X-UA-Compatible" content="IE=edge"><link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"><title>NodeIterator</title><link href="dossier.css" rel="stylesheet" type="text/css"><header><button class="dossier-menu"><i class="material-icons">menu</i></button><form><input type="search" placeholder="Search" tabindex="1"><i class="material-icons">search</i></form></header><div class="content"><main><article><section class="intro"><div class="header"><div class="parentlink"><b>Namespace:</b> <a href="goog.dom.html">goog.dom</a></div><div class="codelink"><a href="https://github.com/google/closure-library/blob/master/closure/goog/dom/nodeiterator.js#L67" target="_blank">View Source</a></div><h1 class="title"><div class="tags"><span class="final"></span></div><div>class NodeIterator</div></h1></div><div class="body"><pre class="inheritance"><a href="goog.iter.Iterator.html">goog.iter.Iterator</a>&lt;Node&gt;
  &#x2514; <a href="goog.dom.TagIterator.html">goog.dom.TagIterator</a>
      &#x2514; goog.dom.NodeIterator</pre><p>A DOM tree traversal iterator.</p>
<p>Starting with the given node, the iterator walks the DOM in order, reporting
events for each node.  The iterator acts as a prefix iterator:</p>
 <pre>
 &lt;div&gt;1&lt;span&gt;2&lt;/span&gt;3&lt;/div&gt;
 </pre>
<p>Will return the following nodes:</p>
<p><code>[div, 1, span, 2, 3]</code></p>
<p>With the following depths</p>
<p><code>[1, 1, 2, 2, 1]</code></p>
<p>Imagining <code>|</code> represents iterator position, the traversal stops at
each of the following locations:</p>
 <pre>&lt;div&gt;|1|&lt;span&gt;|2|&lt;/span&gt;3|&lt;/div&gt;</pre>
<p>The iterator can also be used in reverse mode, which will return the nodes
and states in the opposite order.  The depths will be slightly different
since, like in normal mode, the depth is computed <em>after</em> the last move.</p>
<p>Lastly, it is possible to create an iterator that is unconstrained, meaning
that it will continue iterating until the end of the document instead of
until exiting the start node.</p>
<h3 class="name"><div>new NodeIterator(<var>opt_node</var>, <var>opt_reversed</var>, <var>opt_unconstrained</var>, <var>opt_depth</var>)</div></h3><dt class="spec">Parameters</dt><dd><dl><dt class="type name"><var>opt_node</var><code>Node=</code><dd><p>The start node.  Defaults to an empty iterator.</p>
<dt class="type name"><var>opt_reversed</var><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>=</code><dd><p>Whether to traverse the tree in reverse.</p>
<dt class="type name"><var>opt_unconstrained</var><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>=</code><dd><p>Whether the iterator is not constrained
to the starting node and its children.</p>
<dt class="type name"><var>opt_depth</var><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>=</code><dd><p>The starting tree depth.</p>
</dl></dd></div></section><section class="instance-methods"><h2>Instance Methods</h2><section class="property expandable" id="__iterator__"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/iter/iter.js#L81" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div>__iterator__(<var>opt_keys</var>)</div></h3></div><div class="body"><p>Returns the <code>Iterator</code> object itself.  This is used to implement
the iterator protocol in JavaScript 1.7</p>
<dl><dt class="spec">Defined by</dt><dd><a href="goog.iter.Iterator.html#__iterator__">goog.iter.Iterator</a></dd><dt class="spec">Parameters</dt><dd><dl><dt class="type name"><var>opt_keys</var><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>=</code><dd><p>Whether to return the keys or values. Default is
to only return the values.  This is being used by the for-in loop (true)
and the for-each-in loop (false).  Even though the param gives a hint
about what the iterator will return there is no guarantee that it will
return the keys when true is passed.</p>
</dl></dd><dt class="spec">Returns</dt><dd><dl><dt class="type"><code>!<a href="goog.iter.Iterator.html">goog.iter.Iterator</a>&lt;VALUE&gt;</code><dd><p>The object itself.</p>
</dl></dd></dl></div></section><section class="property expandable" id="clone"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/dom/tagiterator.js#L204" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div>clone()</div></h3></div><div class="body"><dl><dt class="spec">Defined by</dt><dd><a href="goog.dom.TagIterator.html#clone">goog.dom.TagIterator</a></dd><dt class="spec">Returns</dt><dd><dl><dt class="type"><code>!<a href="goog.dom.TagIterator.html">goog.dom.TagIterator</a></code><dd><p>A copy of this iterator.</p>
</dl></dd></dl></div></section><section class="property expandable" id="copyFrom"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/dom/tagiterator.js#L192" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div class="tags"><span class="protected"></span></div><div>copyFrom(<var>other</var>)</div></h3></div><div class="body"><p>Replace this iterator&#39;s values with values from another. The two iterators
must be of the same type.</p>
<dl><dt class="spec">Defined by</dt><dd><a href="goog.dom.TagIterator.html#copyFrom">goog.dom.TagIterator</a></dd><dt class="spec">Parameters</dt><dd><dl><dt class="type name"><var>other</var><code><a href="goog.dom.TagIterator.html">goog.dom.TagIterator</a></code><dd><p>The iterator to copy.</p>
</dl></dd></dl></div></section><section class="property expandable" id="equals"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/dom/tagiterator.js#L332" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div>equals(<var>other</var>)</div></h3></div><div class="body"><p>Test if two iterators are at the same position - i.e. if the node and tagType
is the same.  This will still return true if the two iterators are moving in
opposite directions or have different constraints.</p>
<dl><dt class="spec">Defined by</dt><dd><a href="goog.dom.TagIterator.html#equals">goog.dom.TagIterator</a></dd><dt class="spec">Parameters</dt><dd><dl><dt class="type name"><var>other</var><code><a href="goog.dom.TagIterator.html">goog.dom.TagIterator</a></code><dd><p>The iterator to compare to.</p>
</dl></dd><dt class="spec">Returns</dt><dd><dl><dt class="type"><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>Whether the two iterators are at the same position.</p>
</dl></dd></dl></div></section><section class="property expandable" id="isEndTag"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/dom/tagiterator.js#L312" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div>isEndTag()</div></h3></div><div class="body"><dl><dt class="spec">Defined by</dt><dd><a href="goog.dom.TagIterator.html#isEndTag">goog.dom.TagIterator</a></dd><dt class="spec">Returns</dt><dd><dl><dt class="type"><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>Whether this iterator&#39;s position is an end tag position.</p>
</dl></dd></dl></div></section><section class="property expandable" id="isNonElement"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/dom/tagiterator.js#L320" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div>isNonElement()</div></h3></div><div class="body"><dl><dt class="spec">Defined by</dt><dd><a href="goog.dom.TagIterator.html#isNonElement">goog.dom.TagIterator</a></dd><dt class="spec">Returns</dt><dd><dl><dt class="type"><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>Whether this iterator&#39;s position is not at an element node.</p>
</dl></dd></dl></div></section><section class="property expandable" id="isStartTag"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/dom/tagiterator.js#L304" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div>isStartTag()</div></h3></div><div class="body"><dl><dt class="spec">Defined by</dt><dd><a href="goog.dom.TagIterator.html#isStartTag">goog.dom.TagIterator</a></dd><dt class="spec">Returns</dt><dd><dl><dt class="type"><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>Whether this iterator&#39;s position is a start tag position.</p>
</dl></dd></dl></div></section><section class="property expandable" id="isStarted"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/dom/tagiterator.js#L296" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div class="tags"><span class="protected"></span></div><div>isStarted()</div></h3></div><div class="body"><dl><dt class="spec">Defined by</dt><dd><a href="goog.dom.TagIterator.html#isStarted">goog.dom.TagIterator</a></dd><dt class="spec">Returns</dt><dd><dl><dt class="type"><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>Whether next has ever been called on this iterator.</p>
</dl></dd></dl></div></section><section class="property expandable" id="next"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/dom/nodeiterator.js#L81" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div>next()</div></h3></div><div class="body"><p>Moves to the next position in the DOM tree.</p>
<dl><dt class="spec">Overrides</dt><dd><a href="goog.dom.TagIterator.html#next">goog.dom.TagIterator</a></dd><dt class="spec">Returns</dt><dd><dl><dt class="type"><code>Node</code><dd><p>Returns the next node, or throws a goog.iter.StopIteration
exception if the end of the iterator&#39;s range has been reached.</p>
</dl></dd></dl></div></section><section class="property expandable" id="restartTag"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/dom/tagiterator.js#L226" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div>restartTag()</div></h3></div><div class="body"><p>Restart the current tag.</p>
</div></section><section class="property expandable" id="setPosition"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/dom/tagiterator.js#L164" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div>setPosition(<var>node</var>, <var>opt_tagType</var>, <var>opt_depth</var>)</div></h3></div><div class="body"><p>Set the position of the iterator.  Overwrite the tree node and the position
type which can be one of the <a href="goog.dom.TagWalkType.html"><code>goog.dom.TagWalkType</code></a> token types.
Only overwrites the tree depth when the parameter is specified.</p>
<dl><dt class="spec">Defined by</dt><dd><a href="goog.dom.TagIterator.html#setPosition">goog.dom.TagIterator</a></dd><dt class="spec">Parameters</dt><dd><dl><dt class="type name"><var>node</var><code>Node</code><dd><p>The node to set the position to.</p>
<dt class="type name"><var>opt_tagType</var><code>?<a href="goog.dom.TagWalkType.html">goog.dom.TagWalkType</a>=</code><dd><p>The type of the position
Defaults to the start of the given node.</p>
<dt class="type name"><var>opt_depth</var><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>=</code><dd><p>The tree depth.</p>
</dl></dd></dl></div></section><section class="property expandable" id="skipTag"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/dom/tagiterator.js#L213" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div>skipTag()</div></h3></div><div class="body"><p>Skip the current tag.</p>
</div></section><section class="property expandable" id="splice"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/dom/tagiterator.js#L347" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div>splice(<var>var_args</var>)</div></h3></div><div class="body"><p>Replace the current node with the list of nodes. Reset the iterator so that
it visits the first of the nodes next.</p>
<dl><dt class="spec">Defined by</dt><dd><a href="goog.dom.TagIterator.html#splice">goog.dom.TagIterator</a></dd><dt class="spec">Parameters</dt><dd><dl><dt class="type name"><var>var_args</var><code>...<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code><dd><p>A list of nodes to replace the current node with.
If the first argument is array-like, it will be used, otherwise all the
arguments are assumed to be nodes.</p>
</dl></dd></dl></div></section></section><section class="instance-properties"><h2>Instance Properties</h2><section class="property expandable" id="constrained"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/dom/tagiterator.js#L142" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div>constrained</div></h3></div><div class="body"><p>Whether the iterator is constrained to the starting node and its children.</p>
<dl><dt class="spec">Type<dd><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></dd><dt class="spec">Defined by</dt><dd><a href="goog.dom.TagIterator.html#constrained">goog.dom.TagIterator</a></dd></dl></div></section><section class="property expandable" id="depth"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/dom/tagiterator.js#L130" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div>depth</div></h3></div><div class="body"><p>The tree depth of this position relative to where the iterator started.
The depth is considered to be the tree depth just past the current node,
so if an iterator is at position</p>
 <pre>
     </pre><div>|</div>
 
<p>(i.e. the node is the div and the type is START_TAG) its depth will be 1.</p>
<dl><dt class="spec">Type<dd><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></dd><dt class="spec">Defined by</dt><dd><a href="goog.dom.TagIterator.html#depth">goog.dom.TagIterator</a></dd></dl></div></section><section class="property expandable" id="node"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/dom/tagiterator.js#L112" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div>node</div></h3></div><div class="body"><p>The node this position is located on.</p>
<dl><dt class="spec">Type<dd>Node</dd><dt class="spec">Defined by</dt><dd><a href="goog.dom.TagIterator.html#node">goog.dom.TagIterator</a></dd></dl></div></section><section class="property expandable" id="reversed"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/dom/tagiterator.js#L106" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div>reversed</div></h3></div><div class="body"><p>Whether the node iterator is moving in reverse.</p>
<dl><dt class="spec">Type<dd><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></dd><dt class="spec">Defined by</dt><dd><a href="goog.dom.TagIterator.html#reversed">goog.dom.TagIterator</a></dd></dl></div></section><section class="property expandable" id="tagType"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/dom/tagiterator.js#L118" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div>tagType</div></h3></div><div class="body"><p>The type of this position.</p>
<dl><dt class="spec">Type<dd><a href="goog.dom.TagWalkType.html">goog.dom.TagWalkType</a></dd><dt class="spec">Defined by</dt><dd><a href="goog.dom.TagIterator.html#tagType">goog.dom.TagIterator</a></dd></dl></div></section></section></article></main><footer><div><a href="https://github.com/jleyba/js-dossier">Generated by dossier</a></div></footer></div><nav class="dossier-nav"><section><a class="title" href="index.html" tabindex="2">Overview</a></section><section class="types"><div class="toggle"><div class="title"><span class="item" tabindex="2">Types</span><i class="material-icons">expand_more</i></div></div></section></nav><script src="types.js"></script><script src="dossier.js"></script>
{% endraw %}
