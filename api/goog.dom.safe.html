---
{edit_path: '', layout: api, page: goog.dom.safe, section: 2-api}
---
{% raw %}
<!DOCTYPE html><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"><meta http-equiv="Content-Language" content="en"><meta http-equiv="X-UA-Compatible" content="IE=edge"><link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"><title>goog.dom.safe</title><link href="dossier.css" rel="stylesheet" type="text/css"><header><button class="dossier-menu"><i class="material-icons">menu</i></button><form><input type="search" placeholder="Search" tabindex="1"><i class="material-icons">search</i></form></header><div class="content"><main><article><section class="intro"><div class="header"><div class="codelink"><a href="https://github.com/google/closure-library/blob/master/closure/goog/dom/safe.js#L40" target="_blank">View Source</a></div><h1 class="title"><div>namespace goog.dom.safe</div></h1></div><div class="body"><p>No description available.</p></div></section><section class="static-functions"><h2>Functions</h2><section class="property expandable" id="documentWrite"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/dom/safe.js#L97" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div>documentWrite(<var>doc</var>, <var>html</var>)</div></h3></div><div class="body"><p>Writes known-safe HTML to a document.</p>
<dl><dt class="spec">Parameters</dt><dd><dl><dt class="type name"><var>doc</var><code>!Document</code><dd><p>The document to be written to.</p>
<dt class="type name"><var>html</var><code>!<a href="goog.html.SafeHtml.html">goog.html.SafeHtml</a></code><dd><p>The known-safe HTML to assign.</p>
</dl></dd></dl></div></section><section class="property expandable" id="insertAdjacentHtml"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/dom/safe.js#L67" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div>insertAdjacentHtml(<var>node</var>, <var>position</var>, <var>html</var>)</div></h3></div><div class="body"><p>Inserts known-safe HTML into a Node, at the specified position.</p>
<dl><dt class="spec">Parameters</dt><dd><dl><dt class="type name"><var>node</var><code>!Node</code><dd><p>The node on which to call insertAdjacentHTML.</p>
<dt class="type name"><var>position</var><code>!<a href="goog.dom.safe.InsertAdjacentHtmlPosition.html">goog.dom.safe.InsertAdjacentHtmlPosition</a></code><dd><p>Position where
to insert the HTML.</p>
<dt class="type name"><var>html</var><code>!<a href="goog.html.SafeHtml.html">goog.html.SafeHtml</a></code><dd><p>The known-safe HTML to insert.</p>
</dl></dd></dl></div></section><section class="property expandable" id="openInWindow"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/dom/safe.js#L354" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div>openInWindow(<var>url</var>, <var>opt_openerWin</var>, <var>opt_name</var>, <var>opt_specs</var>, <var>opt_replace</var>)</div></h3></div><div class="body"><p>Safely opens a URL in a new window (via window.open).</p>
<p>If url is of type goog.html.SafeUrl, its value is unwrapped and passed in to
window.open.  If url is of type string however, it is first sanitized
using goog.html.SafeUrl.sanitize.</p>
<p>Note that this function does not prevent leakages via the referer that is
sent by window.open. It is advised to only use this to open 1st party URLs.</p>
<p>Example usage:
goog.dom.safe.openInWindow(url);
which is a safe alternative to
window.open(url);
The latter can result in XSS vulnerabilities if redirectUrl is a
user-/attacker-controlled value.</p>
<dl><dt class="spec">Parameters</dt><dd><dl><dt class="type name"><var>url</var><code>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>|!<a href="goog.html.SafeUrl.html">goog.html.SafeUrl</a>)</code><dd><p>The URL to open.</p>
<dt class="type name"><var>opt_openerWin</var><code>Window=</code><dd><p>Window of which to call the .open() method.
Defaults to the global window.</p>
<dt class="type name"><var>opt_name</var><code>!<a href="goog.string.Const.html">goog.string.Const</a>=</code><dd><p>Name of the window to open in. Can be
_top, etc as allowed by window.open().</p>
<dt class="type name"><var>opt_specs</var><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>=</code><dd><p>Comma-separated list of specifications, same as
in window.open().</p>
<dt class="type name"><var>opt_replace</var><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>=</code><dd><p>Whether to replace the current entry in browser
history, same as in window.open().</p>
</dl></dd><dt class="spec">Returns</dt><dd><dl><dt class="type"><code>Window</code><dd><p>Window the url was opened in.</p>
</dl></dd></dl></div></section><section class="property expandable" id="setAnchorHref"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/dom/safe.js#L121" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div>setAnchorHref(<var>anchor</var>, <var>url</var>)</div></h3></div><div class="body"><p>Safely assigns a URL to an anchor element&#39;s href property.</p>
<p>If url is of type goog.html.SafeUrl, its value is unwrapped and assigned to
anchor&#39;s href property.  If url is of type string however, it is first
sanitized using goog.html.SafeUrl.sanitize.</p>
<p>Example usage:
goog.dom.safe.setAnchorHref(anchorEl, url);
which is a safe alternative to
anchorEl.href &#61; url;
The latter can result in XSS vulnerabilities if url is a
user-/attacker-controlled value.</p>
<dl><dt class="spec">Parameters</dt><dd><dl><dt class="type name"><var>anchor</var><code>!HTMLAnchorElement</code><dd><p>The anchor element whose href property
is to be assigned to.</p>
<dt class="type name"><var>url</var><code>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>|!<a href="goog.html.SafeUrl.html">goog.html.SafeUrl</a>)</code><dd><p>The URL to assign.</p>
</dl></dd><dt class="spec">See Also</dt><dd><a href="goog.html.SafeUrl.html#SafeUrl.sanitize">goog.html.SafeUrl#sanitize</a></dd></dl></div></section><section class="property expandable" id="setEmbedSrc"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/dom/safe.js#L171" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div>setEmbedSrc(<var>embed</var>, <var>url</var>)</div></h3></div><div class="body"><p>Safely assigns a URL to an embed element&#39;s src property.</p>
<p>Example usage:
goog.dom.safe.setEmbedSrc(embedEl, url);
which is a safe alternative to
embedEl.src &#61; url;
The latter can result in loading untrusted code unless it is ensured that
the URL refers to a trustworthy resource.</p>
<dl><dt class="spec">Parameters</dt><dd><dl><dt class="type name"><var>embed</var><code>!HTMLEmbedElement</code><dd><p>The embed element whose src property
is to be assigned to.</p>
<dt class="type name"><var>url</var><code>!<a href="goog.html.TrustedResourceUrl.html">goog.html.TrustedResourceUrl</a></code><dd><p>The URL to assign.</p>
</dl></dd></dl></div></section><section class="property expandable" id="setFrameSrc"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/dom/safe.js#L190" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div>setFrameSrc(<var>frame</var>, <var>url</var>)</div></h3></div><div class="body"><p>Safely assigns a URL to a frame element&#39;s src property.</p>
<p>Example usage:
goog.dom.safe.setFrameSrc(frameEl, url);
which is a safe alternative to
frameEl.src &#61; url;
The latter can result in loading untrusted code unless it is ensured that
the URL refers to a trustworthy resource.</p>
<dl><dt class="spec">Parameters</dt><dd><dl><dt class="type name"><var>frame</var><code>!HTMLFrameElement</code><dd><p>The frame element whose src property
is to be assigned to.</p>
<dt class="type name"><var>url</var><code>!<a href="goog.html.TrustedResourceUrl.html">goog.html.TrustedResourceUrl</a></code><dd><p>The URL to assign.</p>
</dl></dd></dl></div></section><section class="property expandable" id="setIframeSrc"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/dom/safe.js#L209" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div>setIframeSrc(<var>iframe</var>, <var>url</var>)</div></h3></div><div class="body"><p>Safely assigns a URL to an iframe element&#39;s src property.</p>
<p>Example usage:
goog.dom.safe.setIframeSrc(iframeEl, url);
which is a safe alternative to
iframeEl.src &#61; url;
The latter can result in loading untrusted code unless it is ensured that
the URL refers to a trustworthy resource.</p>
<dl><dt class="spec">Parameters</dt><dd><dl><dt class="type name"><var>iframe</var><code>!HTMLIFrameElement</code><dd><p>The iframe element whose src property
is to be assigned to.</p>
<dt class="type name"><var>url</var><code>!<a href="goog.html.TrustedResourceUrl.html">goog.html.TrustedResourceUrl</a></code><dd><p>The URL to assign.</p>
</dl></dd></dl></div></section><section class="property expandable" id="setImageSrc"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/dom/safe.js#L145" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div>setImageSrc(<var>imageElement</var>, <var>url</var>)</div></h3></div><div class="body"><p>Safely assigns a URL to an image element&#39;s src property.</p>
<p>If url is of type goog.html.SafeUrl, its value is unwrapped and assigned to
image&#39;s src property.  If url is of type string however, it is first
sanitized using goog.html.SafeUrl.sanitize.</p>
<dl><dt class="spec">Parameters</dt><dd><dl><dt class="type name"><var>imageElement</var><code>!HTMLImageElement</code><dd><p>The image element whose src property
is to be assigned to.</p>
<dt class="type name"><var>url</var><code>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>|!<a href="goog.html.SafeUrl.html">goog.html.SafeUrl</a>)</code><dd><p>The URL to assign.</p>
</dl></dd><dt class="spec">See Also</dt><dd><a href="goog.html.SafeUrl.html#SafeUrl.sanitize">goog.html.SafeUrl#sanitize</a></dd></dl></div></section><section class="property expandable" id="setInnerHtml"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/dom/safe.js#L77" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div>setInnerHtml(<var>elem</var>, <var>html</var>)</div></h3></div><div class="body"><p>Assigns known-safe HTML to an element&#39;s innerHTML property.</p>
<dl><dt class="spec">Parameters</dt><dd><dl><dt class="type name"><var>elem</var><code>!Element</code><dd><p>The element whose innerHTML is to be assigned to.</p>
<dt class="type name"><var>html</var><code>!<a href="goog.html.SafeHtml.html">goog.html.SafeHtml</a></code><dd><p>The known-safe HTML to assign.</p>
</dl></dd></dl></div></section><section class="property expandable" id="setLinkHrefAndRel"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/dom/safe.js#L239" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div>setLinkHrefAndRel(<var>link</var>, <var>url</var>, <var>rel</var>)</div></h3></div><div class="body"><p>Safely sets a link element&#39;s href and rel properties. Whether or not
the URL assigned to href has to be a goog.html.TrustedResourceUrl
depends on the value of the rel property. If rel contains &#34;stylesheet&#34;
then a TrustedResourceUrl is required.</p>
<p>Example usage:
goog.dom.safe.setLinkHrefAndRel(linkEl, url, &#39;stylesheet&#39;);
which is a safe alternative to
linkEl.rel &#61; &#39;stylesheet&#39;;
linkEl.href &#61; url;
The latter can result in loading untrusted code unless it is ensured that
the URL refers to a trustworthy resource.</p>
<dl><dt class="spec">Parameters</dt><dd><dl><dt class="type name"><var>link</var><code>!HTMLLinkElement</code><dd><p>The link element whose href property
is to be assigned to.</p>
<dt class="type name"><var>url</var><code>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>|!<a href="goog.html.SafeUrl.html">goog.html.SafeUrl</a>|!<a href="goog.html.TrustedResourceUrl.html">goog.html.TrustedResourceUrl</a>)</code><dd><p>The URL
to assign to the href property. Must be a TrustedResourceUrl if the
value assigned to rel contains &#34;stylesheet&#34;. A string value is
sanitized with goog.html.SafeUrl.sanitize.</p>
<dt class="type name"><var>rel</var><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>The value to assign to the rel property.</p>
</dl></dd><dt class="spec">Throws</dt><dd><dl><dt class="type"><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error">Error</a></code><dd><p>if rel contains &#34;stylesheet&#34; and url is not a
TrustedResourceUrl</p>
</dl></dd><dt class="spec">See Also</dt><dd><a href="goog.html.SafeUrl.html#SafeUrl.sanitize">goog.html.SafeUrl#sanitize</a></dd></dl></div></section><section class="property expandable" id="setLocationHref"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/dom/safe.js#L314" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div>setLocationHref(<var>loc</var>, <var>url</var>)</div></h3></div><div class="body"><p>Safely assigns a URL to a Location object&#39;s href property.</p>
<p>If url is of type goog.html.SafeUrl, its value is unwrapped and assigned to
loc&#39;s href property.  If url is of type string however, it is first sanitized
using goog.html.SafeUrl.sanitize.</p>
<p>Example usage:
goog.dom.safe.setLocationHref(document.location, redirectUrl);
which is a safe alternative to
document.location.href &#61; redirectUrl;
The latter can result in XSS vulnerabilities if redirectUrl is a
user-/attacker-controlled value.</p>
<dl><dt class="spec">Parameters</dt><dd><dl><dt class="type name"><var>loc</var><code>!Location</code><dd><p>The Location object whose href property is to be
assigned to.</p>
<dt class="type name"><var>url</var><code>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>|!<a href="goog.html.SafeUrl.html">goog.html.SafeUrl</a>)</code><dd><p>The URL to assign.</p>
</dl></dd><dt class="spec">See Also</dt><dd><a href="goog.html.SafeUrl.html#SafeUrl.sanitize">goog.html.SafeUrl#sanitize</a></dd></dl></div></section><section class="property expandable" id="setObjectData"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/dom/safe.js#L271" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div>setObjectData(<var>object</var>, <var>url</var>)</div></h3></div><div class="body"><p>Safely assigns a URL to an object element&#39;s data property.</p>
<p>Example usage:
goog.dom.safe.setObjectData(objectEl, url);
which is a safe alternative to
objectEl.data &#61; url;
The latter can result in loading untrusted code unless setit is ensured that
the URL refers to a trustworthy resource.</p>
<dl><dt class="spec">Parameters</dt><dd><dl><dt class="type name"><var>object</var><code>!HTMLObjectElement</code><dd><p>The object element whose data property
is to be assigned to.</p>
<dt class="type name"><var>url</var><code>!<a href="goog.html.TrustedResourceUrl.html">goog.html.TrustedResourceUrl</a></code><dd><p>The URL to assign.</p>
</dl></dd></dl></div></section><section class="property expandable" id="setOuterHtml"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/dom/safe.js#L87" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div>setOuterHtml(<var>elem</var>, <var>html</var>)</div></h3></div><div class="body"><p>Assigns known-safe HTML to an element&#39;s outerHTML property.</p>
<dl><dt class="spec">Parameters</dt><dd><dl><dt class="type name"><var>elem</var><code>!Element</code><dd><p>The element whose outerHTML is to be assigned to.</p>
<dt class="type name"><var>html</var><code>!<a href="goog.html.SafeHtml.html">goog.html.SafeHtml</a></code><dd><p>The known-safe HTML to assign.</p>
</dl></dd></dl></div></section><section class="property expandable" id="setScriptSrc"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/dom/safe.js#L290" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div>setScriptSrc(<var>script</var>, <var>url</var>)</div></h3></div><div class="body"><p>Safely assigns a URL to an iframe element&#39;s src property.</p>
<p>Example usage:
goog.dom.safe.setScriptSrc(scriptEl, url);
which is a safe alternative to
scriptEl.src &#61; url;
The latter can result in loading untrusted code unless it is ensured that
the URL refers to a trustworthy resource.</p>
<dl><dt class="spec">Parameters</dt><dd><dl><dt class="type name"><var>script</var><code>!HTMLScriptElement</code><dd><p>The script element whose src property
is to be assigned to.</p>
<dt class="type name"><var>url</var><code>!<a href="goog.html.TrustedResourceUrl.html">goog.html.TrustedResourceUrl</a></code><dd><p>The URL to assign.</p>
</dl></dd></dl></div></section></section><section class="types"><h2>Enumerations</h2><ul><li class="summary"><div><a href="goog.dom.safe.InsertAdjacentHtmlPosition.html">InsertAdjacentHtmlPosition</a></div></ul></section></article></main><footer><div><a href="https://github.com/jleyba/js-dossier">Generated by dossier</a></div></footer></div><nav class="dossier-nav"><section><a class="title" href="index.html" tabindex="2">Overview</a></section><section class="types"><div class="toggle"><div class="title"><span class="item" tabindex="2">Types</span><i class="material-icons">expand_more</i></div></div></section></nav><script src="types.js"></script><script src="dossier.js"></script>
{% endraw %}
