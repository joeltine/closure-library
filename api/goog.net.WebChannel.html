---
{edit_path: '', layout: api, page: goog.net.WebChannel, section: 2-api}
---
{% raw %}
<!DOCTYPE html><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"><meta http-equiv="Content-Language" content="en"><meta http-equiv="X-UA-Compatible" content="IE=edge"><link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"><title>WebChannel</title><link href="dossier.css" rel="stylesheet" type="text/css"><header><button class="dossier-menu"><i class="material-icons">menu</i></button><form><input type="search" placeholder="Search" tabindex="1"><i class="material-icons">search</i></form></header><div class="content"><main><article><section class="intro"><div class="header"><div class="parentlink"><b>Namespace:</b> <a href="goog.net.html">goog.net</a></div><div class="codelink"><a href="https://github.com/google/closure-library/blob/master/closure/goog/labs/net/webchannel.js#L67" target="_blank">View Source</a></div><h1 class="title"><div>interface WebChannel</div></h1></div><div class="body"><dl><dt class="spec">All extended interfaces<dd><code>EventTarget</code></dl><p>A WebChannel represents a logical bi-directional channel over which the
client communicates with a remote server that holds the other endpoint
of the channel. A WebChannel is always created in the context of a shared
<code>WebChannelTransport</code> instance. It is up to the underlying client-side
and server-side implementations to decide how or when multiplexing is
to be enabled.</p>
</div></section><section class="instance-methods"><h2>Instance Methods</h2><section class="property expandable" id="addEventListener"><div class="header"><h3 class="name"><div>addEventListener(<var>type</var>, <var>listener</var>, <var>useCapture</var>)</div></h3></div><div class="body"><dl><dt class="spec">Parameters</dt><dd><dl><dt class="type name"><var>type</var><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dt class="type name"><var>listener</var><code>(EventListener|function(!Event): (<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>|<a href=".globals.html#PredicateFunctionType">PredicateFunctionType</a>))</code><dt class="type name"><var>useCapture</var><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code></dl></dd><dt class="spec">Returns</dt><dd><dl><dt class="type"><code><a href=".globals.html#PredicateFunctionType">PredicateFunctionType</a></code></dl></dd></dl></div></section><section class="property expandable" id="close"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/labs/net/webchannel.js#L141" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div>close()</div></h3></div><div class="body"><p>Close the WebChannel.</p>
</div></section><section class="property expandable" id="dispatchEvent"><div class="header"><h3 class="name"><div>dispatchEvent(<var>evt</var>)</div></h3></div><div class="body"><dl><dt class="spec">Parameters</dt><dd><dl><dt class="type name"><var>evt</var><code>!Event</code></dl></dd><dt class="spec">Returns</dt><dd><dl><dt class="type"><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code></dl></dd></dl></div></section><section class="property expandable" id="getRuntimeProperties"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/labs/net/webchannel.js#L236" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div>getRuntimeProperties()</div></h3></div><div class="body"><dl><dt class="spec">Returns</dt><dd><dl><dt class="type"><code>!<a href="goog.net.WebChannel.RuntimeProperties.html">goog.net.WebChannel.RuntimeProperties</a></code><dd><p>The runtime properties
of the WebChannel instance.</p>
</dl></dd></dl></div></section><section class="property expandable" id="open"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/labs/net/webchannel.js#L135" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div>open()</div></h3></div><div class="body"><p>Open the WebChannel against the URI specified in the constructor.</p>
</div></section><section class="property expandable" id="removeEventListener"><div class="header"><h3 class="name"><div>removeEventListener(<var>type</var>, <var>listener</var>, <var>useCapture</var>)</div></h3></div><div class="body"><dl><dt class="spec">Parameters</dt><dd><dl><dt class="type name"><var>type</var><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dt class="type name"><var>listener</var><code>(EventListener|function(!Event): (<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>|<a href=".globals.html#PredicateFunctionType">PredicateFunctionType</a>))</code><dt class="type name"><var>useCapture</var><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code></dl></dd><dt class="spec">Returns</dt><dd><dl><dt class="type"><code><a href=".globals.html#PredicateFunctionType">PredicateFunctionType</a></code></dl></dd></dl></div></section><section class="property expandable" id="send"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/labs/net/webchannel.js#L150" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div>send(<var>message</var>)</div></h3></div><div class="body"><p>Sends a message to the server that maintains the other end point of
the WebChannel.</p>
<dl><dt class="spec">Parameters</dt><dd><dl><dt class="type name"><var>message</var><code>!<a href="goog.net.WebChannel.html#goog.net.WebChannel.MessageData">goog.net.WebChannel.MessageData</a></code><dd><p>The message to send.</p>
</dl></dd></dl></div></section></section><section class="static-properties"><h2>Properties</h2><section class="property expandable" id="WebChannel.X_CLIENT_PROTOCOL"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/labs/net/webchannel.js#L344" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div>WebChannel.X_CLIENT_PROTOCOL</div></h3></div><div class="body"><p>A special header to indicate to the server what messaging protocol
each HTTP message is speaking.</p>
<dl><dt class="spec">Type<dd><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></dd></dl></div></section><section class="property expandable" id="WebChannel.X_CLIENT_PROTOCOL_WEB_CHANNEL"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/labs/net/webchannel.js#L352" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div>WebChannel.X_CLIENT_PROTOCOL_WEB_CHANNEL</div></h3></div><div class="body"><p>The value for x-client-protocol when the messaging protocol is WebChannel.</p>
<dl><dt class="spec">Type<dd><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></dd></dl></div></section></section><section class="types"><h2>Interfaces</h2><ul><li class="summary"><div><a href="goog.net.WebChannel.RuntimeProperties.html">WebChannel.RuntimeProperties</a></div></ul></section><section class="types"><h2>Classes</h2><ul><li class="summary"><div><a href="goog.net.WebChannel.ErrorEvent.html">WebChannel.ErrorEvent</a></div><li class="summary"><div><a href="goog.net.WebChannel.MessageEvent.html">WebChannel.MessageEvent</a></div></ul></section><section class="types"><h2>Enumerations</h2><ul><li class="summary"><div><a href="goog.net.WebChannel.ErrorStatus.html">WebChannel.ErrorStatus</a></div><li class="summary"><div><a href="goog.net.WebChannel.EventType.html">WebChannel.EventType</a></div></ul></section><section class="type-defs"><h2>Type Definitions</h2><section id="WebChannel.MessageData" class="property expandable"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/labs/net/webchannel.js#L129" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div>WebChannel.MessageData</div></h3></div><div class="body"><dl><dt class="spec">Type<dd><code>(ArrayBuffer|Blob|<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>&gt;|<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>)</code></dl><p>Types that are allowed as message data.</p>
<p>Note that JS objects (sent by the client) can only have string encoded
values due to the limitation of the current wire protocol.</p>
<p>Unicode strings (sent by the server) may or may not need be escaped, as
decided by the server.</p>
</div></section><section id="WebChannel.Options" class="property expandable"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/labs/net/webchannel.js#L115" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div>WebChannel.Options</div></h3></div><div class="body"><dl><dt class="spec">Type<dd><code>{messageHeaders: (!<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>&gt;|<a href=".globals.html#PredicateFunctionType">PredicateFunctionType</a>), messageUrlParams: (!<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>&gt;|<a href=".globals.html#PredicateFunctionType">PredicateFunctionType</a>), clientProtocolHeaderRequired: (<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>|<a href=".globals.html#PredicateFunctionType">PredicateFunctionType</a>), concurrentRequestLimit: (<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>|<a href=".globals.html#PredicateFunctionType">PredicateFunctionType</a>), supportsCrossDomainXhr: (<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>|<a href=".globals.html#PredicateFunctionType">PredicateFunctionType</a>), testUrl: (<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>|<a href=".globals.html#PredicateFunctionType">PredicateFunctionType</a>), sendRawJson: (<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>|<a href=".globals.html#PredicateFunctionType">PredicateFunctionType</a>)}</code></dl><p>Configuration spec for newly created WebChannel instances.</p>
<p>WebChannels are configured in the context of the containing
<code>WebChannelTransport</code>. The configuration parameters are specified
when a new instance of WebChannel is created via <code>WebChannelTransport</code>.</p>
<p>messageHeaders: custom headers to be added to every message sent to the
server. This object is mutable, and custom headers may be changed, removed,
or added during the runtime after a channel has been opened.</p>
<p>messageUrlParams: custom url query parameters to be added to every message
sent to the server. This object is mutable, and custom parameters may be
changed, removed or added during the runtime after a channel has been opened.</p>
<p>clientProtocolHeaderRequired: whether a special header should be added to
each message so that the server can dispatch webchannel messages without
knowing the URL path prefix. Defaults to false.</p>
<p>concurrentRequestLimit: the maximum number of in-flight HTTP requests allowed
when SPDY is enabled. Currently we only detect SPDY in Chrome.
This parameter defaults to 10. When SPDY is not enabled, this parameter
will have no effect.</p>
<p>supportsCrossDomainXhr: setting this to true to allow the use of sub-domains
(as configured by the server) to send XHRs with the CORS withCredentials
bit set to true.</p>
<p>testUrl: the test URL for detecting connectivity during the initial
handshake. This parameter defaults to &#34;/&lt;channel_url&gt;/test&#34;.</p>
<p>sendRawJson: whether to bypass v8 encoding of client-sent messages. Will be
deprecated after v9 wire protocol is introduced. Only safe to set if the
server is known to support this feature.</p>
</div></section></section></article></main><footer><div><a href="https://github.com/jleyba/js-dossier">Generated by dossier</a></div></footer></div><nav class="dossier-nav"><section><a class="title" href="index.html" tabindex="2">Overview</a></section><section class="types"><div class="toggle"><div class="title"><span class="item" tabindex="2">Types</span><i class="material-icons">expand_more</i></div></div></section></nav><script src="types.js"></script><script src="dossier.js"></script>
{% endraw %}
