---
{edit_path: '', layout: api, page: goog.editor.range, section: 2-api}
---
{% raw %}
<!DOCTYPE html><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"><meta http-equiv="Content-Language" content="en"><meta http-equiv="X-UA-Compatible" content="IE=edge"><link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"><title>goog.editor.range</title><link href="dossier.css" rel="stylesheet" type="text/css"><header><button class="dossier-menu"><i class="material-icons">menu</i></button><form><input type="search" placeholder="Search" tabindex="1"><i class="material-icons">search</i></form></header><div class="content"><main><article><section class="intro"><div class="header"><div class="codelink"><a href="https://github.com/google/closure-library/blob/master/closure/goog/editor/range.js#L21" target="_blank">View Source</a></div><h1 class="title"><div>namespace goog.editor.range</div></h1></div><div class="body"><p>No description available.</p></div></section><section class="static-functions"><h2>Functions</h2><section class="property expandable" id="expand"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/editor/range.js#L87" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div>expand(<var>range</var>, <var>opt_stopNode</var>)</div></h3></div><div class="body"><p>Given a range, expand the range to include outer tags if the full contents of
those tags are entirely selected.  This essentially changes the dom position,
but not the visible position of the range.
Ex. <code></code></p><code><li>foo</li></code> if &#34;foo&#34; is selected, instead of returning
start and end nodes as the foo text node, return the li.
<dl><dt class="spec">Parameters</dt><dd><dl><dt class="type name"><var>range</var><code><a href="goog.dom.AbstractRange.html">goog.dom.AbstractRange</a></code><dd><p>The range.</p>
<dt class="type name"><var>opt_stopNode</var><code>Node=</code><dd><p>Optional node to stop expanding past.</p>
</dl></dd><dt class="spec">Returns</dt><dd><dl><dt class="type"><code>!<a href="goog.dom.AbstractRange.html">goog.dom.AbstractRange</a></code><dd><p>The expanded range.</p>
</dl></dd></dl></div></section><section class="property expandable" id="getDeepEndPoint"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/editor/range.js#L298" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div>getDeepEndPoint(<var>range</var>, <var>atStart</var>)</div></h3></div><div class="body"><p>Get the deepest point in the DOM that&#39;s equivalent to the endpoint of the
given range.</p>
<dl><dt class="spec">Parameters</dt><dd><dl><dt class="type name"><var>range</var><code><a href="goog.dom.AbstractRange.html">goog.dom.AbstractRange</a></code><dd><p>A range.</p>
<dt class="type name"><var>atStart</var><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>True for the start point, false for the end point.</p>
</dl></dd><dt class="spec">Returns</dt><dd><dl><dt class="type"><code>!<a href="goog.editor.range.Point.html">goog.editor.range.Point</a></code><dd><p>The end point, expressed as a node
and an offset.</p>
</dl></dd></dl></div></section><section class="property expandable" id="intersectsTag"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/editor/range.js#L447" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div>intersectsTag(<var>range</var>, <var>tagName</var>)</div></h3></div><div class="body"><p>Returns whether the given range intersects with any instance of the given
tag.</p>
<dl><dt class="spec">Parameters</dt><dd><dl><dt class="type name"><var>range</var><code><a href="goog.dom.AbstractRange.html">goog.dom.AbstractRange</a></code><dd><p>The range to check.</p>
<dt class="type name"><var>tagName</var><code><a href="goog.dom.TagName.html">goog.dom.TagName</a></code><dd><p>The name of the tag.</p>
</dl></dd><dt class="spec">Returns</dt><dd><dl><dt class="type"><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>Whether the given range intersects with any instance of
the given tag.</p>
</dl></dd></dl></div></section><section class="property expandable" id="isEditable"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/editor/range.js#L421" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div>isEditable(<var>range</var>)</div></h3></div><div class="body"><p>Checks if a range is completely inside an editable region.</p>
<dl><dt class="spec">Parameters</dt><dd><dl><dt class="type name"><var>range</var><code><a href="goog.dom.AbstractRange.html">goog.dom.AbstractRange</a></code><dd><p>The range to test.</p>
</dl></dd><dt class="spec">Returns</dt><dd><dl><dt class="type"><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>Whether the range is completely inside an editable region.</p>
</dl></dd></dl></div></section><section class="property expandable" id="narrow"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/editor/range.js#L46" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div>narrow(<var>range</var>, <var>el</var>)</div></h3></div><div class="body"><p>Given a range and an element, create a narrower range that is limited to the
boundaries of the element. If the range starts (or ends) outside the
element, the narrowed range&#39;s start point (or end point) will be the
leftmost (or rightmost) leaf of the element.</p>
<dl><dt class="spec">Parameters</dt><dd><dl><dt class="type name"><var>range</var><code><a href="goog.dom.AbstractRange.html">goog.dom.AbstractRange</a></code><dd><p>The range.</p>
<dt class="type name"><var>el</var><code>Element</code><dd><p>The element to limit the range to.</p>
</dl></dd><dt class="spec">Returns</dt><dd><dl><dt class="type"><code><a href="goog.dom.AbstractRange.html">goog.dom.AbstractRange</a></code><dd><p>A new narrowed range, or null if the
element does not contain any part of the given range.</p>
</dl></dd></dl></div></section><section class="property expandable" id="normalize"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/editor/range.js#L331" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div>normalize(<var>range</var>)</div></h3></div><div class="body"><p>Given a range in the current DOM, create a factory for a range that
represents the same selection in a normalized DOM. The factory function
should be invoked after the DOM is normalized.</p>
<p>All browsers do a bad job preserving ranges across DOM normalization.
The issue is best described in this 5-year-old bug report:
https://bugzilla.mozilla.org/show_bug.cgi?id&#61;191864
For most applications, this isn&#39;t a problem. The browsers do a good job
handling un-normalized text, so there&#39;s usually no reason to normalize.</p>
<p>The exception to this rule is the rich text editing commands
execCommand and queryCommandValue, which will fail often if there are
un-normalized text nodes.</p>
<p>The factory function creates new ranges so that we can normalize the DOM
without problems. It must be created before any normalization happens,
and invoked after normalization happens.</p>
<dl><dt class="spec">Parameters</dt><dd><dl><dt class="type name"><var>range</var><code><a href="goog.dom.AbstractRange.html">goog.dom.AbstractRange</a></code><dd><p>The range to normalize. It may
become invalid after body.normalize() is called.</p>
</dl></dd><dt class="spec">Returns</dt><dd><dl><dt class="type"><code>function(): <a href="goog.dom.AbstractRange.html">goog.dom.AbstractRange</a></code><dd><p>A factory for a normalized
range. Should be called after body.normalize() is called.</p>
</dl></dd></dl></div></section><section class="property expandable" id="normalizeNode"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/editor/range.js#L244" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div>normalizeNode(<var>node</var>)</div></h3></div><div class="body"><p>Normalizes the given node.</p>
<dl><dt class="spec">Parameters</dt><dd><dl><dt class="type name"><var>node</var><code>Node</code><dd><p>The node to normalize.</p>
</dl></dd></dl></div></section><section class="property expandable" id="placeCursorNextTo"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/editor/range.js#L182" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div>placeCursorNextTo(<var>node</var>, <var>toLeft</var>)</div></h3></div><div class="body"><p>Position the cursor immediately to the left or right of &#34;node&#34;.
In Firefox, the selection parent is outside of &#34;node&#34;, so the cursor can
effectively be moved to the end of a link node, without being considered
inside of it.
Note: This does not always work in WebKit. In particular, if you try to
place a cursor to the right of a link, typing still puts you in the link.
Bug: http://bugs.webkit.org/show_bug.cgi?id&#61;17697</p>
<dl><dt class="spec">Parameters</dt><dd><dl><dt class="type name"><var>node</var><code>Node</code><dd><p>The node to position the cursor relative to.</p>
<dt class="type name"><var>toLeft</var><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>True to place it to the left, false to the right.</p>
</dl></dd><dt class="spec">Returns</dt><dd><dl><dt class="type"><code>!<a href="goog.dom.AbstractRange.html">goog.dom.AbstractRange</a></code><dd><p>The newly selected range.</p>
</dl></dd></dl></div></section><section class="property expandable" id="rangePreservingNormalize"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/editor/range.js#L262" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div>rangePreservingNormalize(<var>node</var>, <var>range</var>)</div></h3></div><div class="body"><p>Normalizes the node, preserving a range of the document.</p>
<p>May also normalize things outside the node, if it is more efficient to do so.</p>
<dl><dt class="spec">Parameters</dt><dd><dl><dt class="type name"><var>node</var><code>Node</code><dd><p>The node to normalize.</p>
<dt class="type name"><var>range</var><code>?<a href="goog.dom.AbstractRange.html">goog.dom.AbstractRange</a></code><dd><p>The range to normalize.</p>
</dl></dd><dt class="spec">Returns</dt><dd><dl><dt class="type"><code><a href="goog.dom.AbstractRange.html">goog.dom.AbstractRange</a></code><dd><p>The range, adjusted for normalization.</p>
</dl></dd></dl></div></section><section class="property expandable" id="saveUsingNormalizedCarets"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/editor/range.js#L581" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div>saveUsingNormalizedCarets(<var>range</var>)</div></h3></div><div class="body"><p>Saves the range by inserting carets into the HTML.</p>
<p>Unlike the regular saveUsingCarets, this SavedRange normalizes text nodes.
Browsers have other bugs where they don&#39;t handle split text nodes in
contentEditable regions right.</p>
<dl><dt class="spec">Parameters</dt><dd><dl><dt class="type name"><var>range</var><code><a href="goog.dom.AbstractRange.html">goog.dom.AbstractRange</a></code><dd><p>The abstract range object.</p>
</dl></dd><dt class="spec">Returns</dt><dd><dl><dt class="type"><code>!<a href="goog.dom.SavedCaretRange.html">goog.dom.SavedCaretRange</a></code><dd><p>A saved caret range that normalizes
text nodes.</p>
</dl></dd></dl></div></section><section class="property expandable" id="selectNodeStart"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/editor/range.js#L164" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div>selectNodeStart(<var>node</var>)</div></h3></div><div class="body"><p>Cause the window&#39;s selection to be the start of this node.</p>
<dl><dt class="spec">Parameters</dt><dd><dl><dt class="type name"><var>node</var><code>Node</code><dd><p>The node to select the start of.</p>
</dl></dd></dl></div></section><section class="property expandable" id="selectionPreservingNormalize"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/editor/range.js#L200" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div>selectionPreservingNormalize(<var>node</var>)</div></h3></div><div class="body"><p>Normalizes the node, preserving the selection of the document.</p>
<p>May also normalize things outside the node, if it is more efficient to do so.</p>
<dl><dt class="spec">Parameters</dt><dd><dl><dt class="type name"><var>node</var><code>Node</code><dd><p>The node to normalize.</p>
</dl></dd></dl></div></section></section><section class="types"><h2>Classes</h2><ul><li class="summary"><div><a href="goog.editor.range.NormalizedCaretRange_.html">NormalizedCaretRange_</a></div><li class="summary"><div><a href="goog.editor.range.Point.html">Point</a></div></ul></section></article></main><footer><div><a href="https://github.com/jleyba/js-dossier">Generated by dossier</a></div></footer></div><nav class="dossier-nav"><section><a class="title" href="index.html" tabindex="2">Overview</a></section><section class="types"><div class="toggle"><div class="title"><span class="item" tabindex="2">Types</span><i class="material-icons">expand_more</i></div></div></section></nav><script src="types.js"></script><script src="dossier.js"></script>
{% endraw %}
