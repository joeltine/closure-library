---
{edit_path: '', layout: api, page: goog.structs.PriorityPool, section: 2-api}
---
{% raw %}
<!DOCTYPE html><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"><meta http-equiv="Content-Language" content="en"><meta http-equiv="X-UA-Compatible" content="IE=edge"><link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"><title>PriorityPool</title><link href="dossier.css" rel="stylesheet" type="text/css"><header><button class="dossier-menu"><i class="material-icons">menu</i></button><form><input type="search" placeholder="Search" tabindex="1"><i class="material-icons">search</i></form></header><div class="content"><main><article><section class="intro"><div class="header"><div class="parentlink"><b>Namespace:</b> <a href="goog.structs.html">goog.structs</a></div><div class="codelink"><a href="https://github.com/google/closure-library/blob/master/closure/goog/structs/prioritypool.js#L38" target="_blank">View Source</a></div><h1 class="title"><div>class PriorityPool<var class="template">&lt;VALUE&gt;</var></div></h1></div><div class="body"><pre class="inheritance"><a href="goog.Disposable.html">goog.Disposable</a>
  &#x2514; <a href="goog.structs.Pool.html">goog.structs.Pool</a>&lt;VALUE&gt;
      &#x2514; goog.structs.PriorityPool</pre><dl><dt class="spec">All implemented interfaces<dd><code><a href="goog.disposable.IDisposable.html">goog.disposable.IDisposable</a></code></dl><p>A generic pool class. If min is greater than max, an error is thrown.</p>
<h3 class="name"><div>new PriorityPool(<var>opt_minCount</var>, <var>opt_maxCount</var>)</div></h3><dt class="spec">Parameters</dt><dd><dl><dt class="type name"><var>opt_minCount</var><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>=</code><dd><p>Min. number of objects (Default: 0).</p>
<dt class="type name"><var>opt_maxCount</var><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>=</code><dd><p>Max. number of objects (Default: 10).</p>
</dl></dd></div></section><section class="instance-methods"><h2>Instance Methods</h2><section class="property expandable" id="addFreeObject"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/structs/prioritypool.js#L151" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div>addFreeObject(<var>obj</var>)</div></h3></div><div class="body"><p>Adds an object to the collection of objects that are free. If the object can
not be added, then it is disposed.</p>
<p>NOTE: This method does not remove the object from the in use collection.</p>
<dl><dt class="spec">Overrides</dt><dd><a href="goog.structs.Pool.html#addFreeObject">goog.structs.Pool</a></dd><dt class="spec">Parameters</dt><dd><dl><dt class="type name"><var>obj</var><code>VALUE</code><dd><p>The object to add to the collection of free objects.</p>
</dl></dd></dl></div></section><section class="property expandable" id="addOnDisposeCallback"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/disposable/disposable.js#L216" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div><var class="template">&lt;T&gt;</var> addOnDisposeCallback(<var>callback</var>, <var>opt_scope</var>)</div></h3></div><div class="body"><p>Invokes a callback function when this object is disposed. Callbacks are
invoked in the order in which they were added. If a callback is added to
an already disposed Disposable, it will be called immediately.</p>
<dl><dt class="spec">Defined by</dt><dd><a href="goog.Disposable.html#addOnDisposeCallback">goog.Disposable</a></dd><dt class="spec">Parameters</dt><dd><dl><dt class="type name"><var>callback</var><code>function(this: T): ?</code><dd><p>The callback function.</p>
<dt class="type name"><var>opt_scope</var><code>T=</code><dd><p>An optional scope to call the callback in.</p>
</dl></dd></dl></div></section><section class="property expandable" id="adjustForMinMax"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/structs/prioritypool.js#L168" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div>adjustForMinMax()</div></h3></div><div class="body"><p>Adjusts the objects held in the pool to be within the min/max constraints.</p>
<p>NOTE: It is possible that the number of objects in the pool will still be
greater than the maximum count of objects allowed. This will be the case
if no more free objects can be disposed of to get below the minimum count
(i.e., all objects are in use).</p>
<dl><dt class="spec">Overrides</dt><dd><a href="goog.structs.Pool.html#adjustForMinMax">goog.structs.Pool</a></dd></dl></div></section><section class="property expandable" id="contains"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/structs/pool.js#L317" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div>contains(<var>obj</var>)</div></h3></div><div class="body"><p>Returns true if the given object is in the pool.</p>
<dl><dt class="spec">Defined by</dt><dd><a href="goog.structs.Pool.html#contains">goog.structs.Pool</a></dd><dt class="spec">Parameters</dt><dd><dl><dt class="type name"><var>obj</var><code>T</code><dd><p>The object to check the pool for.</p>
</dl></dd><dt class="spec">Returns</dt><dd><dl><dt class="type"><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>Whether the pool contains the object.</p>
</dl></dd></dl></div></section><section class="property expandable" id="createObject"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/structs/pool.js#L275" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div>createObject()</div></h3></div><div class="body"><p>Should be overridden by sub-classes to return an instance of the object type
that is expected in the pool.</p>
<dl><dt class="spec">Defined by</dt><dd><a href="goog.structs.Pool.html#createObject">goog.structs.Pool</a></dd><dt class="spec">Returns</dt><dd><dl><dt class="type"><code>T</code><dd><p>The created object.</p>
</dl></dd></dl></div></section><section class="property expandable" id="dispose"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/disposable/disposable.js#L175" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div>dispose()</div></h3></div><div class="body"><p>Disposes of the object. If the object hasn&#39;t already been disposed of, calls
<a href="goog.structs.PriorityPool.html#disposeInternal"><code>#disposeInternal</code></a>. Classes that extend <code>goog.Disposable</code> should
override <a href="goog.structs.PriorityPool.html#disposeInternal"><code>#disposeInternal</code></a> in order to delete references to COM
objects, DOM nodes, and other disposable objects. Reentrant.</p>
<dl><dt class="spec">Defined by</dt><dd><a href="goog.Disposable.html#dispose">goog.Disposable</a></dd><dt class="spec">Specified by</dt><dd><a href="goog.disposable.IDisposable.html#dispose">goog.disposable.IDisposable</a></dd><dt class="spec">Returns</dt><dd><dl><dt class="type"><code><a href=".globals.html#PredicateFunctionType">PredicateFunctionType</a></code><dd><p>Nothing.</p>
</dl></dd></dl></div></section><section class="property expandable" id="disposeInternal"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/structs/prioritypool.js#L177" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div class="tags"><span class="protected"></span></div><div>disposeInternal()</div></h3></div><div class="body"><p>Disposes of the pool and all objects currently held in the pool.</p>
<dl><dt class="spec">Overrides</dt><dd><a href="goog.structs.Pool.html#disposeInternal">goog.structs.Pool</a></dd></dl></div></section><section class="property expandable" id="disposeObject"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/structs/pool.js#L286" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div>disposeObject(<var>obj</var>)</div></h3></div><div class="body"><p>Should be overridden to dispose of an object. Default implementation is to
remove all its members, which should render it useless. Calls the object&#39;s
<code>dispose()</code> method, if available.</p>
<dl><dt class="spec">Defined by</dt><dd><a href="goog.structs.Pool.html#disposeObject">goog.structs.Pool</a></dd><dt class="spec">Parameters</dt><dd><dl><dt class="type name"><var>obj</var><code>T</code><dd><p>The object to dispose.</p>
</dl></dd></dl></div></section><section class="property expandable" id="getCount"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/structs/pool.js#L326" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div>getCount()</div></h3></div><div class="body"><p>Returns the number of objects currently in the pool.</p>
<dl><dt class="spec">Defined by</dt><dd><a href="goog.structs.Pool.html#getCount">goog.structs.Pool</a></dd><dt class="spec">Returns</dt><dd><dl><dt class="type"><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></code><dd><p>Number of objects currently in the pool.</p>
</dl></dd></dl></div></section><section class="property expandable" id="getDisposed"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/disposable/disposable.js#L163" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div class="tags"><span class="deprecated"></span></div><div>getDisposed()</div></h3></div><div class="body"><dl><dt class="spec">Deprecated<dd><p>Use <a href="goog.structs.PriorityPool.html#isDisposed"><code>#isDisposed</code></a> instead.</p>
<dt class="spec">Defined by</dt><dd><a href="goog.Disposable.html#getDisposed">goog.Disposable</a></dd><dt class="spec">Returns</dt><dd><dl><dt class="type"><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>Whether the object has been disposed of.</p>
</dl></dd></dl></div></section><section class="property expandable" id="getFreeCount"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/structs/pool.js#L344" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div>getFreeCount()</div></h3></div><div class="body"><p>Returns the number of objects currently free in the pool.</p>
<dl><dt class="spec">Defined by</dt><dd><a href="goog.structs.Pool.html#getFreeCount">goog.structs.Pool</a></dd><dt class="spec">Returns</dt><dd><dl><dt class="type"><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></code><dd><p>Number of objects currently free in the pool.</p>
</dl></dd></dl></div></section><section class="property expandable" id="getInUseCount"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/structs/pool.js#L335" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div>getInUseCount()</div></h3></div><div class="body"><p>Returns the number of objects currently in use in the pool.</p>
<dl><dt class="spec">Defined by</dt><dd><a href="goog.structs.Pool.html#getInUseCount">goog.structs.Pool</a></dd><dt class="spec">Returns</dt><dd><dl><dt class="type"><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></code><dd><p>Number of objects currently in use in the pool.</p>
</dl></dd></dl></div></section><section class="property expandable" id="getObject"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/structs/prioritypool.js#L99" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div>getObject(<var>opt_callback</var>, <var>opt_priority</var>)</div></h3></div><div class="body"><p>Get a new object from the the pool, if there is one available, otherwise
return undefined.</p>
<dl><dt class="spec">Overrides</dt><dd><a href="goog.structs.Pool.html#getObject">goog.structs.Pool</a></dd><dt class="spec">Parameters</dt><dd><dl><dt class="type name"><var>opt_callback</var><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function">Function</a>=</code><dd><p>The function to callback when an object is
available. This could be immediately. If this is not present, then an
object is immediately returned if available, or undefined if not.</p>
<dt class="type name"><var>opt_priority</var><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>=</code><dd><p>The priority of the request. A smaller value
means a higher priority.</p>
</dl></dd><dt class="spec">Returns</dt><dd><dl><dt class="type"><code>(VALUE|<a href=".globals.html#PredicateFunctionType">PredicateFunctionType</a>)</code><dd><p>The new object from the pool if there is one
available and a callback is not given. Otherwise, undefined.</p>
</dl></dd></dl></div></section><section class="property expandable" id="isDisposed"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/disposable/disposable.js#L154" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div>isDisposed()</div></h3></div><div class="body"><dl><dt class="spec">Defined by</dt><dd><a href="goog.Disposable.html#isDisposed">goog.Disposable</a></dd><dt class="spec">Specified by</dt><dd><a href="goog.disposable.IDisposable.html#isDisposed">goog.disposable.IDisposable</a></dd><dt class="spec">Returns</dt><dd><dl><dt class="type"><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>Whether the object has been disposed of.</p>
</dl></dd></dl></div></section><section class="property expandable" id="isEmpty"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/structs/pool.js#L353" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div>isEmpty()</div></h3></div><div class="body"><p>Determines if the pool contains no objects.</p>
<dl><dt class="spec">Defined by</dt><dd><a href="goog.structs.Pool.html#isEmpty">goog.structs.Pool</a></dd><dt class="spec">Returns</dt><dd><dl><dt class="type"><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>Whether the pool contains no objects.</p>
</dl></dd></dl></div></section><section class="property expandable" id="objectCanBeReused"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/structs/pool.js#L304" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div>objectCanBeReused(<var>obj</var>)</div></h3></div><div class="body"><p>Should be overridden to determine whether an object has become unusable and
should not be returned by getObject(). Calls the object&#39;s
<code>canBeReused()</code>  method, if available.</p>
<dl><dt class="spec">Defined by</dt><dd><a href="goog.structs.Pool.html#objectCanBeReused">goog.structs.Pool</a></dd><dt class="spec">Parameters</dt><dd><dl><dt class="type name"><var>obj</var><code>T</code><dd><p>The object to test.</p>
</dl></dd><dt class="spec">Returns</dt><dd><dl><dt class="type"><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>Whether the object can be reused.</p>
</dl></dd></dl></div></section><section class="property expandable" id="registerDisposable"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/disposable/disposable.js#L203" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div>registerDisposable(<var>disposable</var>)</div></h3></div><div class="body"><p>Associates a disposable object with this object so that they will be disposed
together.</p>
<dl><dt class="spec">Defined by</dt><dd><a href="goog.Disposable.html#registerDisposable">goog.Disposable</a></dd><dt class="spec">Parameters</dt><dd><dl><dt class="type name"><var>disposable</var><code><a href="goog.disposable.IDisposable.html">goog.disposable.IDisposable</a></code><dd><p>that will be disposed when
this object is disposed.</p>
</dl></dd></dl></div></section><section class="property expandable" id="releaseObject"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/structs/pool.js#L192" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div>releaseObject(<var>obj</var>)</div></h3></div><div class="body"><p>Returns an object to the pool of available objects so that it can be reused.</p>
<dl><dt class="spec">Defined by</dt><dd><a href="goog.structs.Pool.html#releaseObject">goog.structs.Pool</a></dd><dt class="spec">Parameters</dt><dd><dl><dt class="type name"><var>obj</var><code>T</code><dd><p>The object to return to the pool of free objects.</p>
</dl></dd><dt class="spec">Returns</dt><dd><dl><dt class="type"><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>Whether the object was found in the Pool&#39;s set of in-use
objects (in other words, whether any action was taken).</p>
</dl></dd></dl></div></section><section class="property expandable" id="setDelay"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/structs/prioritypool.js#L69" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div>setDelay(<var>delay</var>)</div></h3></div><div class="body"><p>Sets the minimum delay between objects being returned by getObject, in
milliseconds. This defaults to zero, meaning that no minimum delay is
enforced and objects may be used as soon as they&#39;re available.</p>
<dl><dt class="spec">Overrides</dt><dd><a href="goog.structs.Pool.html#setDelay">goog.structs.Pool</a></dd><dt class="spec">Parameters</dt><dd><dl><dt class="type name"><var>delay</var><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></code><dd><p>The minimum delay, in milliseconds.</p>
</dl></dd></dl></div></section><section class="property expandable" id="setMaximumCount"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/structs/pool.js#L142" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div>setMaximumCount(<var>max</var>)</div></h3></div><div class="body"><p>Sets the maximum count of the pool.
If max is less than the max count of the pool, an error is thrown.</p>
<dl><dt class="spec">Defined by</dt><dd><a href="goog.structs.Pool.html#setMaximumCount">goog.structs.Pool</a></dd><dt class="spec">Parameters</dt><dd><dl><dt class="type name"><var>max</var><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></code><dd><p>The maximum count of the pool.</p>
</dl></dd></dl></div></section><section class="property expandable" id="setMinimumCount"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/structs/pool.js#L125" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div>setMinimumCount(<var>min</var>)</div></h3></div><div class="body"><p>Sets the minimum count of the pool.
If min is greater than the max count of the pool, an error is thrown.</p>
<dl><dt class="spec">Defined by</dt><dd><a href="goog.structs.Pool.html#setMinimumCount">goog.structs.Pool</a></dd><dt class="spec">Parameters</dt><dd><dl><dt class="type name"><var>min</var><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></code><dd><p>The minimum count of the pool.</p>
</dl></dd></dl></div></section></section><section class="instance-properties"><h2>Instance Properties</h2><section class="property expandable" id="creationStack"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/disposable/disposable.js#L147" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div class="tags"><span class="const"></span></div><div>creationStack</div></h3></div><div class="body"><p>If monitoring the goog.Disposable instances is enabled, stores the creation
stack trace of the Disposable instance.</p>
<dl><dt class="spec">Type<dd><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></dd><dt class="spec">Defined by</dt><dd><a href="goog.Disposable.html#creationStack">goog.Disposable</a></dd></dl></div></section><section class="property expandable" id="delay"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/structs/pool.js#L78" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div class="tags"><span class="protected"></span></div><div>delay</div></h3></div><div class="body"><p>The minimum delay between objects being made available, in milliseconds. If
this is 0, no minimum delay is enforced.</p>
<dl><dt class="spec">Type<dd><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></dd><dt class="spec">Defined by</dt><dd><a href="goog.structs.Pool.html#delay">goog.structs.Pool</a></dd></dl></div></section><section class="property expandable" id="lastAccess"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/structs/pool.js#L86" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div class="tags"><span class="protected"></span></div><div>lastAccess</div></h3></div><div class="body"><p>The time of the last object being made available, in milliseconds since the
epoch (i.e., the result of Date#toTime). If this is null, no access has
occurred yet.</p>
<dl><dt class="spec">Type<dd>?<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></dd><dt class="spec">Defined by</dt><dd><a href="goog.structs.Pool.html#lastAccess">goog.structs.Pool</a></dd></dl></div></section></section></article></main><footer><div><a href="https://github.com/jleyba/js-dossier">Generated by dossier</a></div></footer></div><nav class="dossier-nav"><section><a class="title" href="index.html" tabindex="2">Overview</a></section><section class="types"><div class="toggle"><div class="title"><span class="item" tabindex="2">Types</span><i class="material-icons">expand_more</i></div></div></section></nav><script src="types.js"></script><script src="dossier.js"></script>
{% endraw %}
