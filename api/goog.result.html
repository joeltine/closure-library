---
{edit_path: '', layout: api, page: goog.result, section: 2-api}
---
{% raw %}
<!DOCTYPE html><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"><meta http-equiv="Content-Language" content="en"><meta http-equiv="X-UA-Compatible" content="IE=edge"><link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"><title>goog.result</title><link href="dossier.css" rel="stylesheet" type="text/css"><header><button class="dossier-menu"><i class="material-icons">menu</i></button><form><input type="search" placeholder="Search" tabindex="1"><i class="material-icons">search</i></form></header><div class="content"><main><article><section class="intro"><div class="header"><div class="codelink"><a href="https://github.com/google/closure-library/blob/master/closure/goog/result/result_interface.js#L22" target="_blank">View Source</a></div><h1 class="title"><div>namespace goog.result</div></h1></div><div class="body"><p>No description available.</p></div></section><section class="static-functions"><h2>Functions</h2><section class="property expandable" id="cancelParentResults"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/result/resultutil.js#L503" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div>cancelParentResults(<var>dependentResult</var>)</div></h3></div><div class="body"><p>Given a DependentResult, cancels the Results it depends on (that is, the
results returned by getParentResults). This function does not recurse,
so e.g. parents of parents are not canceled; only the immediate parents of
the given Result are canceled.</p>
<p>Example using &#64;see goog.result.combine:</p>
 <pre>
 var result1 &#61; xhr.get(&#39;testdata/xhr_test_text.data&#39;);

 // Get a second independent Result.
 var result2 &#61; xhr.getJson(&#39;testdata/xhr_test_json.data&#39;);

 // Create a Result that resolves when both prior results resolve.
 var combinedResult &#61; goog.result.combineOnSuccess(result1, result2);

 combinedResult.wait(function() {
   if (combinedResult.isCanceled()) {
     goog.result.cancelParentResults(combinedResult);
   }
 });

 // Now, canceling combinedResult will cancel both result1 and result2.
 combinedResult.cancel();
 </pre>
<dl><dt class="spec">Parameters</dt><dd><dl><dt class="type name"><var>dependentResult</var><code>!<a href="goog.result.DependentResult.html">goog.result.DependentResult</a></code><dd><p>A Result that is
dependent on the values of other Results (for example the Result of a
goog.result.combine, goog.result.chain, or goog.result.transform call).</p>
</dl></dd><dt class="spec">Returns</dt><dd><dl><dt class="type"><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>True if any results were successfully canceled; otherwise
false.
TODO(user): Implement a recursive version of this that cancels all
ancestor results.</p>
</dl></dd></dl></div></section><section class="property expandable" id="canceledResult"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/result/resultutil.js#L99" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div>canceledResult()</div></h3></div><div class="body"><p>Returns a canceled result.
The result will be resolved to an error of type CancelError.</p>
<p>Example:</p>
 <pre>

 var result &#61; goog.result.canceledResult();
 assertEquals(goog.result.Result.State.ERROR, result.getState());
 var error &#61; result.getError();
 assertTrue(error instanceof goog.result.Result.CancelError);

 </pre>
<dl><dt class="spec">Returns</dt><dd><dl><dt class="type"><code>!<a href="goog.result.Result.html">goog.result.Result</a></code><dd><p>A canceled Result.</p>
</dl></dd></dl></div></section><section class="property expandable" id="chain"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/result/resultutil.js#L322" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div><var class="template">&lt;T&gt;</var> chain(<var>result</var>, <var>actionCallback</var>, <var>opt_scope</var>)</div></h3></div><div class="body"><p>The chain function aids in chaining of asynchronous Results. This provides a
convenience for use cases where asynchronous operations must happen serially
i.e. subsequent asynchronous operations are dependent on data returned by
prior asynchronous operations.</p>
<p>It accepts a result and an action callback as arguments and returns a
result. The action callback is called when the first result succeeds and is
supposed to return a second result. The returned result is resolved when one
of both of the results resolve (depending on their success or failure.) The
state and value of the returned result in the various cases is documented
below:</p>
 <pre>

 First Result State:    Second Result State:    Returned Result State:
 SUCCESS                SUCCESS                 SUCCESS
 SUCCESS                ERROR                   ERROR
 ERROR                  Not created             ERROR
 </pre>
<p>The value of the returned result, in the case both results succeed, is the
value of the second result (the result returned by the action callback.)</p>
<p>Example:</p>
 <pre>

 var testDataResult &#61; xhr.get(&#39;testdata/xhr_test_text.data&#39;);

 // Chain this result to perform another asynchronous operation when this
 // Result is resolved.
 var chainedResult &#61; goog.result.chain(testDataResult,
     function(testDataResult) {

       // The result value of testDataResult is the URL for JSON data.
       var jsonDataUrl &#61; testDataResult.getValue();

       // Create a new Result object when the original result is resolved.
       var jsonResult &#61; xhr.getJson(jsonDataUrl);

       // Return the newly created Result.
       return jsonResult;
     });

 // The chained result resolves to success when both results resolve to
 // success.
 goog.result.waitOnSuccess(chainedResult, function(resultValue, result) {

   // At this point, both results have succeeded and we can use the JSON
   // data returned by the second asynchronous call.
   var jsonData &#61; resultValue;
   assertEquals(&#39;ok&#39;, jsonData[&#39;stat&#39;]);
 });

 // Attach the error handler to be called when either Result fails.
 goog.result.waitOnError(chainedResult, function(result) {
   alert(&#39;chained result failed!&#39;);
 });
 </pre>
<dl><dt class="spec">Parameters</dt><dd><dl><dt class="type name"><var>result</var><code>!<a href="goog.result.Result.html">goog.result.Result</a></code><dd><p>The result to chain.</p>
<dt class="type name"><var>actionCallback</var><code>function(this: T, !<a href="goog.result.Result.html">goog.result.Result</a>): !<a href="goog.result.Result.html">goog.result.Result</a></code><dd><p>The callback called when the result is resolved. This
callback must return a Result.</p>
<dt class="type name"><var>opt_scope</var><code>T=</code><dd><p>Optional scope for the action callback.</p>
</dl></dd><dt class="spec">Returns</dt><dd><dl><dt class="type"><code>!<a href="goog.result.DependentResult.html">goog.result.DependentResult</a></code><dd><p>A result that is resolved when both
the given Result and the Result returned by the actionCallback have
resolved.</p>
</dl></dd></dl></div></section><section class="property expandable" id="combine"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/result/resultutil.js#L379" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div>combine(<var>var_args</var>)</div></h3></div><div class="body"><p>Returns a result that waits on all given results to resolve. Once all have
resolved, the returned result will succeed (and never error).</p>
<p>Example:</p>
 <pre>

 var result1 &#61; xhr.get(&#39;testdata/xhr_test_text.data&#39;);

 // Get a second independent Result.
 var result2 &#61; xhr.getJson(&#39;testdata/xhr_test_json.data&#39;);

 // Create a Result that resolves when both prior results resolve.
 var combinedResult &#61; goog.result.combine(result1, result2);

 // Process data after resolution of both results.
 goog.result.waitOnSuccess(combinedResult, function(results) {
   goog.array.forEach(results, function(result) {
       alert(result.getState());
   });
 });
 </pre>
<dl><dt class="spec">Parameters</dt><dd><dl><dt class="type name"><var>var_args</var><code>...!<a href="goog.result.Result.html">goog.result.Result</a></code><dd><p>The results to wait on.</p>
</dl></dd><dt class="spec">Returns</dt><dd><dl><dt class="type"><code>!<a href="goog.result.DependentResult.html">goog.result.DependentResult</a></code><dd><p>A new Result whose eventual value will
be the resolved given Result objects.</p>
</dl></dd></dl></div></section><section class="property expandable" id="combineOnSuccess"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/result/resultutil.js#L445" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div>combineOnSuccess(<var>var_args</var>)</div></h3></div><div class="body"><p>Returns a result that waits on all given results to resolve. Once all have
resolved, the returned result will succeed if and only if all given results
succeeded. Otherwise it will error.</p>
<p>Example:</p>
 <pre>

 var result1 &#61; xhr.get(&#39;testdata/xhr_test_text.data&#39;);

 // Get a second independent Result.
 var result2 &#61; xhr.getJson(&#39;testdata/xhr_test_json.data&#39;);

 // Create a Result that resolves when both prior results resolve.
 var combinedResult &#61; goog.result.combineOnSuccess(result1, result2);

 // Process data after successful resolution of both results.
 goog.result.waitOnSuccess(combinedResult, function(results) {
   var textData &#61; results[0].getValue();
   var jsonData &#61; results[1].getValue();
   assertEquals(&#39;Just some data.&#39;, textData);
   assertEquals(&#39;ok&#39;, jsonData[&#39;stat&#39;]);
 });

 // Handle errors when either or both results failed.
 goog.result.waitOnError(combinedResult, function(combined) {
   var results &#61; combined.getError();

   if (results[0].getState() &#61;&#61; goog.result.Result.State.ERROR) {
     alert(&#39;result1 failed&#39;);
   }

   if (results[1].getState() &#61;&#61; goog.result.Result.State.ERROR) {
     alert(&#39;result2 failed&#39;);
   }
 });
 </pre>
<dl><dt class="spec">Parameters</dt><dd><dl><dt class="type name"><var>var_args</var><code>...!<a href="goog.result.Result.html">goog.result.Result</a></code><dd><p>The results to wait on.</p>
</dl></dd><dt class="spec">Returns</dt><dd><dl><dt class="type"><code>!<a href="goog.result.DependentResult.html">goog.result.DependentResult</a></code><dd><p>A new Result whose eventual value will
be an array of values of the given Result objects.</p>
</dl></dd></dl></div></section><section class="property expandable" id="failedResult"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/result/resultutil.js#L76" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div>failedResult(<var>opt_error</var>)</div></h3></div><div class="body"><p>Returns a failed result with the optional error slug set.</p>
<p>Example:</p>
 <pre>

 var error &#61; new Error(&#39;something-failed&#39;);
 var result &#61; goog.result.failedResult(error);
 assertEquals(goog.result.Result.State.ERROR, result.getState());
 assertEquals(error, result.getError());

 </pre>
<dl><dt class="spec">Parameters</dt><dd><dl><dt class="type name"><var>opt_error</var><code>*=</code><dd><p>The error to which the result should resolve.</p>
</dl></dd><dt class="spec">Returns</dt><dd><dl><dt class="type"><code>!<a href="goog.result.Result.html">goog.result.Result</a></code><dd><p>A Result object that has already been resolved
to the supplied Error.</p>
</dl></dd></dl></div></section><section class="property expandable" id="successfulResult"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/result/resultutil.js#L52" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div>successfulResult(<var>value</var>)</div></h3></div><div class="body"><p>Returns a successful result containing the provided value.</p>
<p>Example:</p>
 <pre>

 var value &#61; &#39;some-value&#39;;
 var result &#61; goog.result.immediateResult(value);
 assertEquals(goog.result.Result.State.SUCCESS, result.getState());
 assertEquals(value, result.getValue());

 </pre>
<dl><dt class="spec">Parameters</dt><dd><dl><dt class="type name"><var>value</var><code>*</code><dd><p>The value of the result.</p>
</dl></dd><dt class="spec">Returns</dt><dd><dl><dt class="type"><code>!<a href="goog.result.Result.html">goog.result.Result</a></code><dd><p>A Result object that has already been resolved
to the supplied value.</p>
</dl></dd></dl></div></section><section class="property expandable" id="transform"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/result/resultutil.js#L238" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div>transform(<var>result</var>, <var>transformer</var>)</div></h3></div><div class="body"><p>Given a result and a transform function, returns a new result whose value,
on success, will be the value of the given result after having been passed
through the transform function.</p>
<p>If the given result is an error, the returned result is also an error and the
transform will not be called.</p>
<p>Example:</p>
 <pre>

 var result &#61; xhr.getJson(&#39;testdata/xhr_test_json.data&#39;);

 // Transform contents of returned data using &#39;processJson&#39; and create a
 // transformed result to use returned JSON.
 var transformedResult &#61; goog.result.transform(result, processJson);

 // Attach success and failure handlers to the transformed result.
 goog.result.waitOnSuccess(transformedResult, function(resultValue, result) {
   var jsonData &#61; resultValue;
   assertEquals(&#39;ok&#39;, jsonData[&#39;stat&#39;]);
 });

 goog.result.waitOnError(transformedResult, function(error) {
   // Failed getJson call
 });
 </pre>
<dl><dt class="spec">Parameters</dt><dd><dl><dt class="type name"><var>result</var><code>!<a href="goog.result.Result.html">goog.result.Result</a></code><dd><p>The result whose value will be
transformed.</p>
<dt class="type name"><var>transformer</var><code>function(?): ?</code><dd><p>The transformer
function. The return value of this function will become the value of the
returned result.</p>
</dl></dd><dt class="spec">Returns</dt><dd><dl><dt class="type"><code>!<a href="goog.result.DependentResult.html">goog.result.DependentResult</a></code><dd><p>A new Result whose eventual value will
be the returned value of the transformer function.</p>
</dl></dd></dl></div></section><section class="property expandable" id="wait"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/result/resultutil.js#L128" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div><var class="template">&lt;T&gt;</var> wait(<var>result</var>, <var>handler</var>, <var>opt_scope</var>)</div></h3></div><div class="body"><p>Calls the handler on resolution of the result (success or failure).
The handler is passed the result object as the only parameter. The call will
be immediate if the result is no longer pending.</p>
<p>Example:</p>
 <pre>

 var result &#61; xhr.get(&#39;testdata/xhr_test_text.data&#39;);

 // Wait for the result to be resolved and alert it&#39;s state.
 goog.result.wait(result, function(result) {
   alert(&#39;State: &#39; &#43; result.getState());
 });
 </pre>
<dl><dt class="spec">Parameters</dt><dd><dl><dt class="type name"><var>result</var><code>!<a href="goog.result.Result.html">goog.result.Result</a></code><dd><p>The result to install the handlers.</p>
<dt class="type name"><var>handler</var><code>function(this: T, !<a href="goog.result.Result.html">goog.result.Result</a>)</code><dd><p>The handler to be
called. The handler is passed the result object as the only parameter.</p>
<dt class="type name"><var>opt_scope</var><code>T=</code><dd><p>Optional scope for the handler.</p>
</dl></dd></dl></div></section><section class="property expandable" id="waitOnError"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/result/resultutil.js#L191" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div><var class="template">&lt;T&gt;</var> waitOnError(<var>result</var>, <var>handler</var>, <var>opt_scope</var>)</div></h3></div><div class="body"><p>Calls the handler if the result action errors. The result object is passed as
the only parameter to the handler. The call will be immediate if the result
object has already resolved to an error.</p>
<p>Example:</p>
 <pre>

 var result &#61; xhr.get(&#39;testdata/xhr_test_text.data&#39;);

 // Attach a failure handler.
 goog.result.waitOnError(result, function(error) {
  // Failed asynchronous call!
 });
 </pre>
<dl><dt class="spec">Parameters</dt><dd><dl><dt class="type name"><var>result</var><code>!<a href="goog.result.Result.html">goog.result.Result</a></code><dd><p>The result to install the handlers.</p>
<dt class="type name"><var>handler</var><code>function(this: T, ?, !<a href="goog.result.Result.html">goog.result.Result</a>)</code><dd><p>The handler to be
called. The handler is passed the error and the result object as
parameters.</p>
<dt class="type name"><var>opt_scope</var><code>T=</code><dd><p>Optional scope for the handler.</p>
</dl></dd></dl></div></section><section class="property expandable" id="waitOnSuccess"><div class="header"><div class="code-link"><a href="https://github.com/google/closure-library/blob/master/closure/goog/result/resultutil.js#L157" target="_blank" title="View source"><i class="material-icons">code</i></a></div><h3 class="name"><div><var class="template">&lt;T&gt;</var> waitOnSuccess(<var>result</var>, <var>handler</var>, <var>opt_scope</var>)</div></h3></div><div class="body"><p>Calls the handler if the result succeeds. The result object is the only
parameter passed to the handler. The call will be immediate if the result
has already succeeded.</p>
<p>Example:</p>
 <pre>

 var result &#61; xhr.get(&#39;testdata/xhr_test_text.data&#39;);

 // attach a success handler.
 goog.result.waitOnSuccess(result, function(resultValue, result) {
   var datavalue &#61; result.getvalue();
   alert(&#39;value: &#39; &#43; datavalue &#43; &#39; &#61;&#61; &#39; &#43; resultValue);
 });
 </pre>
<dl><dt class="spec">Parameters</dt><dd><dl><dt class="type name"><var>result</var><code>!<a href="goog.result.Result.html">goog.result.Result</a></code><dd><p>The result to install the handlers.</p>
<dt class="type name"><var>handler</var><code>function(this: T, ?, !<a href="goog.result.Result.html">goog.result.Result</a>)</code><dd><p>The handler to be
called. The handler is passed the result value and the result as
parameters.</p>
<dt class="type name"><var>opt_scope</var><code>T=</code><dd><p>Optional scope for the handler.</p>
</dl></dd></dl></div></section></section><section class="types"><h2>Interfaces</h2><ul><li class="summary"><div class="tags"><span class="deprecated"></span></div><div><a href="goog.result.DependentResult.html">DependentResult</a></div><li class="summary"><div class="tags"><span class="deprecated"></span></div><div><a href="goog.result.Result.html">Result</a></div></ul></section><section class="types"><h2>Classes</h2><ul><li class="summary"><div class="tags"><span class="deprecated"></span></div><div><a href="goog.result.DeferredAdaptor.html">DeferredAdaptor</a></div><li class="summary"><div><a href="goog.result.DependentResultImpl_.html">DependentResultImpl_</a></div><li class="summary"><div class="tags"><span class="deprecated"></span></div><div><a href="goog.result.SimpleResult.html">SimpleResult</a></div></ul></section></article></main><footer><div><a href="https://github.com/jleyba/js-dossier">Generated by dossier</a></div></footer></div><nav class="dossier-nav"><section><a class="title" href="index.html" tabindex="2">Overview</a></section><section class="types"><div class="toggle"><div class="title"><span class="item" tabindex="2">Types</span><i class="material-icons">expand_more</i></div></div></section></nav><script src="types.js"></script><script src="dossier.js"></script>
{% endraw %}
